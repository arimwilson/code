<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Scrabblish</title>
<script type="text/javascript" src="https://www.google.com/jsapi?key=ABQIAAAAdIOW2ntfXQiIaSgX0c8KpRS8QIXLX2ycRdTteZS2W1M7b4khSBReveKbOTim0FAVoHdOA0qWa9TbKg"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script type="text/javascript">
var boards_;

function getBoard(input) {
  var board = new String();
  input.each(function(index) {
    if (index < 15 * 15) {
      if ($(this).val() == "") board += "-";
      else board += $(this).val();
    }
  });
  return board;
}

function getTiles(input) {
  var tiles = new String();
  input.each(function(index) {
    if (input >= 15 * 15) {
      tiles += $(this).val();
    }
  }
  return tiles
}

function solve() {
  var input = $("form input:text");
  $.post("solve", { board: getBoard(input), tiles: getTiles(input) },
         function(data) { $("#solution").html(data) })
}

function putBoard(board, input) {
  input.each(function(index) {
    if (index < 15 * 15) {
      if (board[i] == "-") $(this).val("");
      else $(this).val(board[i]);
    }
  });
}

function load(dropdown) {
  putBoard(boards_[dropdown.selectedIndex].Board, $("form input:text"));
}

$(document).ready(function() {
  $("#save_button").click(function() {
    var name = prompt("Name of board?");
    $.post("save", { board: getBoard(input), name: name });
  });

  $.post("list", null, function(data) {
    boards_ = eval(data);
    var load = $("#load");
    $.each(boards_, function(board) {
      load.append($("<option></option>").html(board.Name));
    });
    if (boards_.length > 0)
      load.show();
  });
}

</script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8943670-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<span id="entry">
<form action="javascript:solve()">
<table>
  <tr>
    <td></td>
    <td>A</td>
    <td>B</td>
    <td>C</td>
    <td>D</td>
    <td>E</td>
    <td>F</td>
    <td>G</td>
    <td>H</td>
    <td>I</td>
    <td>J</td>
    <td>K</td>
    <td>L</td>
    <td>M</td>
    <td>N</td>
    <td>O</td>
  </tr>
  <tr>
    <td>1</td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
  </tr>
  <tr>
    <td>2</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>3</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>4</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>5</td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
  </tr>
  <tr>
    <td>6</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>7</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>8</td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="*" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
  </tr>
  <tr>
    <td>9</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>10</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>11</td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
  </tr>
  <tr>
    <td>12</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>13</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="1" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>14</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>15</td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="3" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="2" size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 value="4" size=1></td>
  </tr>
</table>
<br>
Tiles:
<table><tr>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
</tr></table>
<br>
<input type="submit" value="Solve">
<input type="button" value="Save" id="save_button">
<select name="load" onchange="load(this.form.load);" style="display:none">
</select>
</form>
<br>
<span id="solution">
</span>
</body>
</html>

