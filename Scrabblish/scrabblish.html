<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Scrabblish</title>
<script type="text/javascript" src="https://www.google.com/jsapi?key=ABQIAAAAdIOW2ntfXQiIaSgX0c8KpRS8QIXLX2ycRdTteZS2W1M7b4khSBReveKbOTim0FAVoHdOA0qWa9TbKg"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script type="text/javascript">
var boards_ = ["4---2--3--2---4-3---4---4---3---1---3-3---1-----4---1---4---2---1-3-3-1---2-4---4---4---4---3-3-----3-3--3--1---*---1--3--3-3-----3-3---4---4---4---4-2---1-3-3-1---2---4---1---4-----1---3-3---1---3---4---4---3-4---2--3--2---4"];
var input_;

function getBoard() {
  var board = new String();
  input_.each(function(index) {
    if (index < 15 * 15) {
      if ($(this).val() == "") board += "-";
      else board += $(this).val();
    }
  });
  return board;
}

function getTiles() {
  var tiles = new String();
  input_.each(function(index) {
    if (index >= 15 * 15) {
      tiles += $(this).val();
    }
  });
  return tiles
}

function solve() {
  $.post("solve", { board: getBoard(), tiles: getTiles() },
                    function(data) { $("#solution").html(data) })
}

function putBoard(board) {
  input_.each(function(index) {
    if (index < 15 * 15) {
      if (board[index] == "-") $(this).val("");
      else $(this).val(board[index]);
    }
  });
}

$(document).ready(function() {
  input_ = $("form input:text");
  var load_ = $("#load_select");
  putBoard(boards_[0]);
  $.post("list", null, function(data) {
    boards = eval(data);
    for (i = 0; i < boards.length; ++i) {
      boards_.push(boards[i].Board);
      load_.append($("<option></option>").html(boards[i].Name));
    }
    if (boards_.length > 0)
      load_.show();
  });

  $("#save_button").click(function() {
    var name = prompt("Name of board?");
    if (name == null || name == "") return;
    $.post("save", { board: getBoard(), name: name });
  });

  load_.change(function() {
    putBoard(boards_[$("#load_select")[0].selectedIndex]);
  });
});
</script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8943670-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<span id="entry">
<form action="javascript:solve()">
<table>
  <tr>
    <td></td>
    <td>A</td>
    <td>B</td>
    <td>C</td>
    <td>D</td>
    <td>E</td>
    <td>F</td>
    <td>G</td>
    <td>H</td>
    <td>I</td>
    <td>J</td>
    <td>K</td>
    <td>L</td>
    <td>M</td>
    <td>N</td>
    <td>O</td>
  </tr>
  <tr>
    <td>1</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>2</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>3</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>4</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>5</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>6</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>7</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>8</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>9</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>10</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>11</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>12</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>13</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>14</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
  <tr>
    <td>15</td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
    <td><input type="text" maxlength=1 size=1></td>
  </tr>
</table>
<br>
Tiles:
<table><tr>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
<input type="text" maxlength=1 size=1>
</tr></table>
<br>
<input type="submit" value="Solve">
<input type="button" value="Save" id="save_button">
<select id="load_select" style="display:none">
<option>Default</option>
</select>
</form>
<br>
<span id="solution">
</span>
</body>
</html>

